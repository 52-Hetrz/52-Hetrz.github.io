<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Spring注解 | Good Life</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Life">
  <meta name="keywords" content="Learn">
  <meta name="description" content="This is SuPeng Wang's Blog">
  <script id="hexo-configurations">
  var CONFIG = {
    root: '/',
    theme: 'lx',
    version: '1.4.5',
    localsearch:{
      "enable": false,
      "trigger": "auto",
      "top_n_per_article": 1,
      "unescape": false,
      "preload": false
      },
    path: '-'
  };
</script>

  <link rel="shortcut icon" href="/images/head1.JPG">
  <link rel="stylesheet" href="/css/main.css">
  <script src="/js/jquery.min.js"></script>
  <script src="/js/jquery.jside.menu.js"></script>
	<script>
	$(document).ready(function(){
	$(".menu-container").jSideMenu({
	    jSidePosition: "position-right",
	    jSideSticky: true,
	    jSideSkin: "endless-river",
	     });
	}); 
	</script>
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300|Noto+Serif+SC&amp;display=swap">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">
</head>
<body>
<div class="single">
<div id="page">
<div id="lx-aside" style="background-image: url(/images/page2.jpg)" data-stellar-background-ratio="0.5">
  <div class="overlay">
  <div class="page-title">
    <div class="avatar"><a href="/"><img src="/images/head1.JPG"></a></div>
    <span>2021-11-16</span>
    <h2>Spring注解</h2>
    <div class="tags"><i class="fa fa-tag"></i><a class="tag-link" href="/tags/Study-Notes/">label</a></div>
    </div>
</div>
</div>


<div id="lx-main-content">
  <div class="lx-post">
    <div class="lx-entry padding">
      <div>
        <h2 id="Example">
          <a href="#Example" class="headerlink" title="Example"></a>
          <strong><em>Example</em></strong>
        </h2>
        <div>
          <span><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><h1 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 41px; border-bottom: 3px double #999; color: #000; margin-top: 14px;">Spring注解</h1>
        <h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">Bean</h3>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">广义上的Spring注解可以分为两类：<br/>
        一类注解用于注册Bean：注册Bean的注解的作用就是向IOC容器里放（注册）东西比如@Component、@Repository、@Controller、@Service、@Configration<br/>
        一类注解用于使用Bean：比如@Autowired、@Resource，如果要使用，必须是IOC容器里有的。<br/>
        Spring的@Bean注解用于告诉方法，产生一个Bean对象，然后将这个Bean对象交给Spring管理。产生这个Bean对象的方法只会调用一次，然后Spring就会将这个Bean对象放到自己的容器当中。<br/>
        @Bean明确地指示了一种方法，什么方法呢？产生一个bean的方法，并且交给Spring容器管理；这里也就说明了为什么Bean是放在方法上的注解，因为它很明确地告诉被注释的方法，你给我产生一个Bean，然后交给Spring容器，剩下的你就别管了。记住，@Bean就放在方法上，就是让方法去产生一个Bean，然后交给Spring容器。<br/>
        Bean注解当中还可以传递参数，用来指定该Bean对象的名称，在调用时配合@Qualifier来使用，因为Autowired是默认按照类去匹配的，当有多个Bean对象对应同一类是，就需要用指定名称的方式来加以区别。<br/>
        </p>
        <p style="text-align: center;"><img src="Spring注解_files/Image.png" type="image/png" data-filename="Image.png"/></p>
        <h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">Autowired &amp;&amp; Qualifier</h3>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">该注解可以对类成员变量、方法以及构造函数进行标注，让spring完成自动装配的工作。</p>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Autowired默认是按照类去匹配，但可以配合@Qualifier指定按照名称去装配bean，除此之外， <strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">当对应有多个类时，还可以使用类名小写字母的方式来指定注入</strong>  。但@Qualifier的优先级较高。</p>
        <p style="text-align: center;"><img src="Spring注解_files/Image [1].png" type="image/png" data-filename="Image.png"/></p>
        <p style="text-align: center;"><img src="Spring注解_files/Image [2].png" type="image/png" data-filename="Image.png"/><br/>
        <img src="Spring注解_files/Image [3].png" type="image/png" data-filename="Image.png"/><br/>
        <img src="Spring注解_files/Image [4].png" type="image/png" data-filename="Image.png"/></p>
        <h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">Component</h3>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">1、@controller 控制器（注入服务）<br/>
        用于标注控制层，相当于struts中的action层</p>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">2、@service 服务（注入SERVICES）<br/>
        用于标注服务层，主要用来进行业务的逻辑处理</p>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">3、@repository（实现DAO访问）<br/>
        用于标注数据访问层，也可以说用于标注数据访问组件，即DAO组件.</p>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">4、@component （把普通pojo实例化到spring容器中，相当于配置文件中的 &lt;bean /&gt;</p>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Component泛指各种组件，就是说当我们的类不属于各种归类的时候（不属于@Controller、@Services等的时候），我们就可以使用@Component来标注这个类。</p>
        <h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@Component和@Bean</strong></h5>
        <ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
        <li style="line-height: 160%; box-sizing: content-box; position: relative;">
        <p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">@Component注解表明一个类会作为组件类，并告知Spring要为这个类创建bean。</p>
        </li>
        <li style="line-height: 160%; box-sizing: content-box; position: relative;">
        <p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">@Bean注解告诉Spring这个方法将会返回一个对象，这个对象要注册为Spring应用上下文中的bean。通常方法体中包含了最终产生bean实例的逻辑。</p>
        </li>
        </ul>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">两者的目的是一样的，都是注册bean到Spring容器中。</p>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">区别</strong><br/>
        @Component（@Controller、@Service、@Repository）通常是通过类路径扫描来自动侦测以及自动装配到Spring容器中。</p>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">而@Bean注解通常是我们在标有该注解的方法中定义产生这个bean的逻辑。</p>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">@Component 作用于类，@Bean作用于方法</p>
        <h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">@Configuration</h3>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">从Spring3.0，@Configuration用于定义配置类，可替换xml配置文件，被注解的类内部包含有一个或多个被@Bean注解的方法，这些方法将会被AnnotationConfigApplicationContext 或 AnnotationConfigWebApplicationContext类进行扫描，并用于构建bean定义，初始化Spring容器。</p>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">该类会被CGLIB动态代理生成子类，可以达到这样的效果：在某@Bean方法下调用另一个标注了@Bean的方法，得到的会是同一个Bean对象；</p>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">1、<br/>
        @Configuration注释类表明其主要目的是作为bean定义的源；<br/>
        @Configuration类允许通过调用同一类中的其他@Bean方法来定义bean之间的依赖关系。</p>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">2、@Configuration注解的配置类有如下要求：</p>
        <ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
        <li style="line-height: 160%; box-sizing: content-box; position: relative;">可以作为Component标签使用</li>
        <li style="line-height: 160%; box-sizing: content-box; position: relative;">标注的类不可以是final类型（final无法动态代理生成子类）</li>
        <li style="line-height: 160%; box-sizing: content-box; position: relative;">注解类里的@Bean对象的id默认是方法名，如果设置了@Bean的name或者value属性，取第一个作为beanId，name中其他的作为别名使用；</li>
        <li style="line-height: 160%; box-sizing: content-box; position: relative;">标注了@Configuration的类不能是普通内部类，如果非要是个内部类，那就静态内部类也是可以的，因为普通内部类依赖于外部类的存在。</li>
        </ul>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">3、配置@Configuration和不配置的区别:<br/>
        在使用@Configuration注解之后，调用@Bean方法产生的实例只会创建一次，与之相依赖的@Bean函数获取的实例也是同一个实例。<br/>
        不使用@Configuration注解时，实例化对象时，每次会创建新的对象。</p>
        <h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">举例：</h4>
        <p style="text-align: center;">
          <img src="Spring注解_files/Image [5].png" type="image/png" data-filename="Image.png"/>
        <img src="Spring注解_files/Image [6].png" type="image/png" data-filename="Image.png"/>
        执行之后的结果：（获取的实例为同一个）
        <img src="Spring注解_files/Image [7].png" type="image/png" data-filename="Image.png"/></p>
        </div></span>
        </div>
      </div>
    </div>
  </div>
</div>



<div class="lx-navigation">
	<div class="lx-cover prev lx-cover-sm" style="background-image: url(/images/footer6.JPG)">
		<div class="overlay"></div>
		<a class="copy" href="/index.html">
			<div class="display-t">
				<div class="display-tc">
					<div>
						<span>Prev</span>
						<h3>回到主页</h3>
					</div>
				</div>
			</div>
		</a>
	</div>
        <div class="lx-cover next lx-cover-sm" style="background-image: url(/images/footer5.JPG)">
		<div class="overlay"></div>
		<a class="copy" href="/templetes/2021/HBase/HBase_usage/index.html">
			<div class="display-t">
				<div class="display-tc">
					<div>
						<span>Next</span>
						<h3>Hbase语法</h3>
					</div>
				</div>
			</div>
		</a>
	</div>
</div>
</div>

<footer>
  <div>
  Copyright &copy; 2019.<a href="/">Good Life</a><br>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme <a href="https://lx.blleng.cn" target="_blank">Lx</a><br>
  </div>
</footer>
</div>

<button class="menu-trigger"></button>
<div class="menu">
  <div class="menu-head">
    <span class="layer">
      <div class="col">
        <div class="row for-pic">
          <div class="profile-pic">
            <a href="/"><img src="/images/head1.JPG" alt="Life"></a>
          </div>
        </div>
        <div class="row for-name">
          <p>Life</p>
          <span class="tagline">爱自由，爱生活，爱自己，爱人</span>
        </div>
      </div>
    </span>
  </div>
  <nav class="menu-container">
  <ul class="menu-items">
    <li><a href="/"><i class="fa fa-home fa-fw"></i>首页</a></li>
    <li><a href="/archives/"><i class="fa fa-archive fa-fw"></i>归档</a></li>
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-bookmark fa-fw"></i>页面</span>
        <ul>
          <li><a href="/guestbook">留言</a></li>
        <li><a href="/about">关于</a></li>
        </ul>
    </li>
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-link fa-fw"></i>友链</span>
        <ul>
          <li> <a href="https://lx.blleng.cn" target="_blank">Theme-Lx</a></li>
        </ul>
    </li>
  </ul>
  </nav>
</div>

<div class="gototop js-top">
  <a href="#" class="js-gotop"><i class="fa fa-arrow-up"></i></a>
</div>
<script src="/js/jquery.easing.min.js"></script>
<script src="/js/jquery.waypoints.min.js"></script>
<script src="/js/jquery.stellar.min.js"></script>
<script src="/js/main.js"></script>


</body>
</html>